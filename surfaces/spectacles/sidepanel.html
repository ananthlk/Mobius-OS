<!DOCTYPE html>
<html>

<head>
  <title>Mobius Spectacles</title>
  <link rel="stylesheet" href="styles.css">
  <!-- Preload clean fonts if possible, or use system fonts -->
</head>

<body>
  <div id="app" class="app-container">

    <!-- 1. Header & Context Mode -->
    <header class="header">
      <div class="brand">
        <div class="logo-svg-container">
          <svg viewBox="0 0 100 60" class="mobius-logo-svg">
            <defs>
              <linearGradient id="flow-sidepanel" x1="0%" y1="0%" x2="200%" y2="0%">
                <stop offset="0%" stop-color="#4285F4" />
                <stop offset="12.5%" stop-color="#EA4335" />
                <stop offset="25%" stop-color="#FBBC05" />
                <stop offset="37.5%" stop-color="#34A853" />
                <stop offset="50%" stop-color="#4285F4" />
                <stop offset="62.5%" stop-color="#EA4335" />
                <stop offset="75%" stop-color="#FBBC05" />
                <stop offset="87.5%" stop-color="#34A853" />
                <stop offset="100%" stop-color="#4285F4" />
                <animate attributeName="x1" from="0%" to="-100%" dur="4s" repeatCount="indefinite" />
                <animate attributeName="x2" from="200%" to="100%" dur="4s" repeatCount="indefinite" />
              </linearGradient>
            </defs>
            <path d="M30 30 C30 15, 45 15, 50 30 C55 45, 70 45, 70 30 C70 15, 55 15, 50 30 C45 45, 30 45, 30 30"
              stroke="url(#flow-sidepanel)" stroke-width="8" fill="none" stroke-linecap="round" />
          </svg>
        </div>
        <span class="brand-name">Mobius</span>
      </div>
      <div id="context-indicator" class="context-pill">
        <span class="status-dot"></span>
        <span id="context-name">System Idle</span>
      </div>
    </header>

    <!-- 2. Main Chat Interface -->
    <main class="chat-viewport" id="chat-container">
      <div class="message system-message">
        <div class="avatar">
          <svg viewBox="0 0 24 24" class="icon">
            <path
              d="M12 2L2 7l10 5 10-5-10-5zm0 9l2.5-1.25L12 8.5l-2.5 1.25L12 11zm0 2.5l-5-2.5-5 2.5L12 22l10-8.5-5-2.5-5 2.5z"
              fill="currentColor" />
          </svg>
        </div>
        <div class="bubble">
          Mobius is ready. Context: <span id="intro-context">None</span>.
        </div>
      </div>
      <!-- Dynamic Messages Go Here -->
    </main>

    <!-- 3. Context Aware Components (Dynamic) -->
    <section id="context-components" class="context-controls">
      <!-- Injected via JS based on mode -->
    </section>

    <!-- 4. Input Area -->
    <footer class="input-area">
      <div class="input-wrapper">
        <input type="text" id="prompt-input" placeholder="Command the continuum..." autocomplete="off">
        <button id="send-btn" aria-label="Send">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M5 12h14M12 5l7 7-7 7" />
          </svg>
        </button>
      </div>
    </footer>

  </div>
  <script type="module" src="sidepanel.js"></script>
</body>

</html>